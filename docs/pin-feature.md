# 邮箱置顶功能

## 功能概述

邮箱置顶功能允许用户将常用的邮箱地址固定在邮箱历史列表的顶部，方便快速访问和管理。

## 主要特性

### 1. 置顶/取消置顶
- 点击邮箱项右侧的📍图标可以置顶邮箱
- 置顶后图标变为📌，点击可以取消置顶
- 置顶状态会持久保存到数据库

### 2. 视觉标识
- 置顶的邮箱会有特殊的背景色和边框
- 置顶邮箱左上角显示📌标记
- 鼠标悬停时显示操作按钮

### 3. 智能排序
- 置顶的邮箱始终显示在列表顶部
- 同级别内按最后访问时间排序
- 支持分页加载

## 使用方法

### 置顶邮箱
1. 在邮箱历史列表中找到要置顶的邮箱
2. 鼠标悬停在邮箱项上，会显示📍按钮
3. 点击📍按钮，邮箱将被置顶

### 取消置顶
1. 找到已置顶的邮箱（有📌标记）
2. 鼠标悬停显示📌按钮
3. 点击📌按钮，取消置顶

### 批量管理
- 可以同时置顶多个邮箱
- 置顶的邮箱会按置顶时间排序
- 删除邮箱时会同时清除置顶状态

## 技术实现

### 数据库结构
```sql
ALTER TABLE mailboxes ADD COLUMN is_pinned INTEGER DEFAULT 0;
CREATE INDEX idx_mailboxes_is_pinned ON mailboxes(is_pinned DESC);
```

### API接口
- `POST /api/mailboxes/pin?address=邮箱地址` - 切换置顶状态
- `GET /api/mailboxes` - 返回按置顶状态排序的邮箱列表

### 前端交互
- 实时更新置顶状态
- 自动重新排序显示
- 支持演示模式

## 兼容性

- 支持现有邮箱数据的自动迁移
- 向后兼容，不影响现有功能
- 演示模式下完全可用

## 注意事项

1. 置顶状态是用户级别的，不同用户之间不共享
2. 删除邮箱时会同时清除置顶状态
3. 置顶功能不影响邮件的接收和发送
4. 支持离线演示模式
